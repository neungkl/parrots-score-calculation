<!doctype html>
<html>

<head>
  <title>Parrots Calculation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.2.4/foundation.min.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">
  <link rel="stylesheet" href="index.css">
</head>


<body>
  <div class="menu">
    <div class="row">
      <div class="small-12 columns thin-font">Parrots Calculator</div>
    </div>
  </div>

  <div class="space-v-large"></div>

  <div class="row">
    <div class="small-12 large-6 large-centered columns">
      <div>Enter your score :</div>
      <div class="space-v-small"></div>
      <div class="thin-font">Copy the result and paste on the input box below, then click calculate button.</div>
      <div class="space-v-medium"></div>
      <textarea class="input" rows="7" placeholder="[ [uses 40 parrots][[uses 1000 parrots][uses 2000 parrots][uses 3000 parrots][uses 4000 parrots]][----][------][-------] ]"></textarea>
      <div class="space-v-small"></div>
      <div class="error" style="display:none;"></div>
      <div class="space-v-medium"></div>
      <div class="button calculate-btn">Calculate</div>
    </div>
  </div>

  <div class="space-v-lar"></div>

  <div class="row">
    <div class="small-12 large-6 large-centered columns">
      <div>Result :</div>
      <div class="result thin-font table-scroll">
        <i>No result available.</i>
      </div>
      <div class="summarize thin-font">
      </div>
    </div>
  </div>

  <div class="space-v-large"></div>

  <span>&nbsp;</div>

  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
  <script src="index.js"></script>
  <script>
  $(function() {

    $('.error').hide();

    $('.calculate-btn').click(function() {
      var result = extractInfomation($('.input').val());

      if (result.pass) {
        var result = dataToTable(result.data);
        $('.result').html(result.html);

        var ratio = result.sum / result.expectSum;

        $('.summarize').html(
          '<div>You use ' + result.sum + ' / ' + result.expectSum + ' birds. ' +
          'With ratio <span class="' + ratioToColor(ratio) + '-box">&nbsp;' + Math.floor(ratio * 100) / 100 + '&nbsp;</span></div>'
        );
        $('.error').hide();
      } else {
        $('.error').show().text(result.msg);
      }
    });

  });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.2.4/foundation.js"></script>

</body>

</html>
